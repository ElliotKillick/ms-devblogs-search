Christian Chung  October 9, 2024


  0  Collapse this comment
Copy link
Does anywhere online have a place for finding these types of things? I’ve never even heard of LCMap­String­Ex until now

 Log in to Vote or Reply






IS4

7 hours ago

  0  Collapse this comment
Copy link
The solution is not to use C++. Use C# which standardizes all these conversions!

 Log in to Vote or Reply






alan robinson

8 hours ago

  1  Collapse this comment
Copy link
A lot of this discussion misses in my mind the most important use case. 99.9% of the time or maybe more that I use a to lower or to upper function it's because I want to do case insensitive comparison.  Given the potentials for multiple mappings revealed in the comments it seems like rather than combining two functions to do this we really should be using a standard compare case insensitive method that works...Read moreA lot of this discussion misses in my mind the most important use case. 99.9% of the time or maybe more that I use a to lower or to upper function it’s because I want to do case insensitive comparison.  Given the potentials for multiple mappings revealed in the comments it seems like rather than combining two functions to do this we really should be using a standard compare case insensitive method that works across all UTF encodings and locales, or even a more permissive fuzzy match method that ignores whitespace.
Read less
 Log in to Vote or Reply






Frank Schmitt  October 8, 2024


  1  Collapse this comment
Copy link
Germans decided in 2017 that converting ß into SS is stupid and officially started to use a capital letter version:
ẞU+1E9ELATIN CAPITAL LETTER SHARP SLateinischer Großbuchstabe scharfes Sẞ

 Log in to Vote or Reply






Kristof Roomp

1 day ago

  1  Collapse this comment
Copy link
Especially people that lived through the Unicode migration of Windows and thought that now that all characters are 16 bit we never have to worry that kind of stuff again. Dangers of early adoption I suppose.

 Log in to Vote or Reply






Jonathan Wilson  October 8, 2024


  1  Collapse this comment
Copy link
Is there a reason wcslwr isn’t a solution to this problem?
Or do they not handle all the wierd stuff from various languages properly?

 Log in to Vote or Reply






Mike Winterberg

3 hours ago· Edited

  0  Collapse this comment
Copy link
_wcslwr_s_l is implemented with LCMapStringW(LCMAP_LOWERCASE).

 Log in to Vote or Reply





Henke37  October 7, 2024


  1  Collapse this comment
Copy link
My favorite gotcha here is Greek. There’s a character with one uppercase version and two lowercase versions.

 Log in to Vote or Reply






Rob Bernstein

2 days ago

  3  Collapse this comment
Copy link
So there’s no facility built into Standard C++ that handles this correctly even in C++23?

 Log in to Vote or Reply






Adam Rosenfield

2 days ago

  2  Collapse this comment
Copy link
There's also the Turkish I problem.
In most locales, the uppercase form of `i` (U+0069 LATIN SMALL LETTER i) is `I` (U+0049 LATIN CAPITAL LETTER I).  But in Turkish locales, the uppercase form of `i` is `İ` (U+0131 LATIN CAPITAL LETTER I WITH DOT ABOVE), and the lowercase form of `I` is `ı` (U+0130 LATIN SMALL LETTER DOTLESS I).
In order to know what the proper uppercase or lowercase forms are, you have to know what...Read moreThere’s also the Turkish I problem.
In most locales, the uppercase form of `i` (U+0069 LATIN SMALL LETTER i) is `I` (U+0049 LATIN CAPITAL LETTER I).  But in Turkish locales, the uppercase form of `i` is `İ` (U+0131 LATIN CAPITAL LETTER I WITH DOT ABOVE), and the lowercase form of `I` is `ı` (U+0130 LATIN SMALL LETTER DOTLESS I).
In order to know what the proper uppercase or lowercase forms are, you have to know what locale you’re working with!
And then for case transformations that should be independent of locale, like HTTP header names, you have to explicitly use locale-invariant functions for those (Turkish users would be upset if an HTTP client or proxy tried to use a header named `content-encodıng` or `CONTENT-ENCODİNG` with the wrong type of `i` in there).
Read less
 Log in to Vote or Reply