Simon Kissane  June 23, 2023
· Edited

  0  Collapse this comment
Copy link
If you are ever short of ideas for blog posts, here's a list of very obscure questions on this topic and adjacent ones:
(1) What is the relationship between net.exe and net1.exe–why do they both exist? is it true that some commands are implemented by the second but not the first? if so, why? (2) I believe that "Country/region code" was only ever used by downlevel clients (such as DOS, OS/2, Win3.x, maybe 9x/Me) – can...Read moreIf you are ever short of ideas for blog posts, here’s a list of very obscure questions on this topic and adjacent ones:
(1) What is the relationship between net.exe and net1.exe–why do they both exist? is it true that some commands are implemented by the second but not the first? if so, why? (2) I believe that “Country/region code” was only ever used by downlevel clients (such as DOS, OS/2, Win3.x, maybe 9x/Me) – can you confirm that? (3) Did anything ever use the code page setting (usri2_code_page)? It seems odd that net.exe doesn’t display it or let you change it (4) can you confirm the actual purpose of the UF_MNS_LOGON_ACCOUNT flag – PowerShell docs claim it has something to do with Majority Node Set in Windows Clustering, but I think that’s a mistaken inference; I personally suspect it is a disused historical vestige of the old Microsoft Services for NetWare product (SNW, and related File and Print Services for NetWare aka FPNW) – can you confirm? (5) I notice even in Windows 10 x64 (10.0.19041.1466), net1.exe (but not net.exe) still contains the UTF-16LE strings FPNWCLNT.DLL and NWAPI32.DLL (and hence I assume some code to control SNW/FPNW must still be in there) – but were those DLLs ever shipped for 64-bit Windows? (6) In the SDK/DDK, km/ntifs.h and um/NTSecAPI.h mention “MSV1_0_MNS_LOGON” and “#define LOGON_GRACE_LOGON” which is annotated as “// Values returned by the MSV1_0_MNS_LOGON SubAuthentication DLL” – has this got something to do with SNW/FPNW and the UF_MNS_LOGON_ACCOUNT flag? Old KB article 192696 mentions a bug whereby SNW didn’t maintain the grace logon counter correctly, but says the bug was fixed in a Windows NT4.0 service pack (it doesn’t say which one) (7) According to the documentation, usriX_params/USER_INFO_1013 is used by “services for Macintosh, file and print services for NetWare, and the Remote Access Server (RAS)”–am I correct that it is now purely a legacy field, and no currently supported Microsoft software actually uses it? (8) The format of that field has never (to my knowledge) been publicly documented. I understand there are some good reasons why you don’t want to / aren’t allowed to talk about the format of undocumented data structures, but if I am right that it is now purely a historical vestige, are you allowed to make an exception in that case?
Maybe my questions are too obscure. I have no practical need for answers to any of them, they are purely driven by intellectual/historical curiosity. But if you ever decided to blog on any of them, you’d have at least one happy reader.
Read less