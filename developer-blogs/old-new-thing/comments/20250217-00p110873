Vk TestA  February 20, 2025


  0  Collapse this comment
Copy link
If you are doing C++ then you should specify the type of enum base, if you are doing this trick.
If you are doing C then itâ€™s best to add MaximumValue =2147483647 to ensure that different compilers and platforms wouldnâ€™t change the layout of your class after you would add 256th flavor.
Because otherwise, according to the C/C++ standard, adding Mint to Vanilla, Chocolate, and Strawberry is legal, but adding Watermelon to that is no longer legal!





Solomon Ucko  February 20, 2025


  0  Collapse this comment
Copy link
Rust has `#[non_exhaustive]` for this. https://doc.rust-lang.org/reference/attributes/type_system.html#the-non_exhaustive-attribute





Shawn Van Ness  February 18, 2025


  0  Collapse this comment
Copy link
I like the idea of an [Open] attribute to apply to enums.. similar to [Flags].   Documentation isnâ€™t enough â€“ there are so many de/serialization and ORM etc frameworks, that will throw exceptions when they see â€œflavor: 7â€.
And this would help settle, once and for all, the ageless debate over whether or not itâ€™s a breaking-change to add a value to an enum.





Kalle Niemitalo  February 18, 2025


  0  Collapse this comment
Copy link
In the Apache Avro schema language, an enum type can have a default value, to which any unrecognized values are mapped during deserialization.  This feature improves compatibility if a message is written using a newer version of the schema but is then read by software that uses an older version.  Unlike C# and C++, Avro does not support casting arbitrary integers to an enum type.





Jeremy Sachs  February 17, 2025


  0  Collapse this comment
Copy link
I'm sorry for this unrelated comment, but I'd like to suggest an article topic, and I don't see a suggestion box anyplace. ğŸ˜…
Last year you shared with us the origins of the "Windows 3D Pipes" screensaver, which in part was a demonstration of OpenGL. I've been researching three interrelated screensavers from Plus! for XP that I believe were made to demonstrate Direct3D 8 shaders: "Mercury Pool", "Robot Circus" and "Sand Pendulum". Their team or project may have been called "MeSmer"; if there's any record of their work, or who it was that made the screensavers in the first place, I'd...Read moreIâ€™m sorry for this unrelated comment, but Iâ€™d like to suggest an article topic, and I donâ€™t see a suggestion box anyplace. ğŸ˜…
Last year you shared with us the origins of the â€œWindows 3D Pipesâ€ screensaver, which in part was a demonstration of OpenGL. Iâ€™ve been researching three interrelated screensavers from Plus! for XP that I believe were made to demonstrate Direct3D 8 shaders: â€œMercury Poolâ€, â€œRobot Circusâ€ and â€œSand Pendulumâ€. Their team or project may have been called â€œMeSmerâ€; if thereâ€™s any record of their work, or who it was that made the screensavers in the first place, Iâ€™d love to learn about them. ğŸ˜€
Read less







Joe Beans  February 17, 2025


  3  Collapse this comment
Copy link
In C# I always make the first value (0) in an enum â€œUnknownâ€ which should always be seen as an invalid value, and contextually different from â€œOtherâ€. Then default(T) will always naturally set to this value in case someone forgets to assign to it. Iâ€™m willing to bet WidgetFlavor will probably be set to Vanilla much more often than it ought toâ€¦





Raymond Chen Author
February 21, 2025


  0  Collapse this comment
Copy link
Unknown is not the same as Invalid. Unknown means â€œI donâ€™t know what it is.â€ Invalid means â€œI know what it is, but itâ€™s not an allowed value.â€ For example, if somebody fills out a form and they leave the â€œcountryâ€ field blank, then itâ€™s Unknown. If they write â€œSaturnâ€, then itâ€™s Invalid.